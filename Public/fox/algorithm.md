# FOX矩阵相乘并行算法的MPI实现
## 算法描述
将待相乘的矩阵$A$和$B$分成p个方块$A_{i,j}$和$B_{i,j}(0\le i,j\le \sqrt{p}-1)$,每块大小为$(n/\sqrt{p})\times(n/\sqrt{p})$,并将它们分配给$\sqrt{p}\times\sqrt{p}$个处理器$(P_{0,0},P_{0,1},\cdots,P_{\sqrt{p}-1,\sqrt{p}-1})$。开始时处理器$P_{i,j}$存放有块$A_{i,j}$和$B_{i,j}$,并负责计算$C_{i,j}$。然后Fox算法执行以下各步$\sqrt{p}$次迭代，即可完成：
1. 选中对角块$A_{i,i}$并将其向所在行的$\sqrt{p}-1$个处理器进行一到多播送；
2. 各处理器将所收到的$A$阵的块与$B$阵原有的块进行乘-加运算；
3. $B$阵的块向上循环1步；
4. 如果$A_{i,j}$是本次播送的块，则下次应该选块$A_{i,(j+1)mod\sqrt{p}}$向同行的$\sqrt{p}-1$个处理器播送，然后转到第2步。

## 程序结构
这里采用Fortran90编写程序,其中：
1. 模块aparallel包含MPI调用过程中需要的参数和变量；
2. 模块Matrix包含存储输入及所求矩阵的数组及用于辅助传值的数组，并给出了其定义、初始化及输出所需的子程序，这里为了处理非方阵及无法均分的情况，init子程序会将所给的矩阵补全为可处理的矩阵，并在输出时，屏蔽被补充进来的矩阵，补全部分全部置零值，不会影响结果的正确性；
3. 子程序Scatter用于将初始值播送给各处理器；
4. 主函数fox结合上述模块和子程序，实现FOX算法。

## 运行时性能加速
